<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.jhta.mybatis.EventMapper">
	<select id="eventList" parameterType="hashmap" resultType="event">
		select * from
			(select e.*, rownum rnum from
				(select * from event order by eve_num desc)e)
		<![CDATA[where rnum >= #{startRow} and rnum <= #{endRow}]]>
	</select>
	<select id="getCount" resultType="int">
		select nvl(count(*), 0) from event
	</select>
	<select id="detailEvent" parameterType="int" resultType="event">
		select * from event where eve_num = ${num}
	</select>
	<select id="entryList" parameterType="int" resultType="event">
		select * from event where eve_num = ${num}
	</select>
	<insert id="addEvent" parameterType="event">
		insert into event
		values(0, #{eve_title}, #{eve_cont}, #{eve_img}, ${eve_start}, #{eve_end}, sysdate)
	</insert>
</mapper>